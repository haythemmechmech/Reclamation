<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="DELL (generated)" id="1603620589919-1">
        <addPrimaryKey columnNames="actions_id, nm_phase_suivants_id" tableName="action_nm_phase_suivant"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-2">
        <addPrimaryKey columnNames="reclamations_id, nm_etats_id" tableName="reclamation_nm_etat"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-3">
        <addForeignKeyConstraint baseColumnNames="nm_type_reclamation_id" baseTableName="reclamation" constraintName="FKan83c3ob2j7oephlv2mb2st0n" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="nm_type_reclamation"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-4">
        <addForeignKeyConstraint baseColumnNames="nm_phase_suivants_id" baseTableName="action_nm_phase_suivant" constraintName="FKel3080bnkgw587iccar839rxu" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="nm_phase"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-5">
        <addForeignKeyConstraint baseColumnNames="actions_id" baseTableName="action_nm_phase_suivant" constraintName="FKoxa0trfoxka04g14yg2030txy" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="action"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-6">
        <addForeignKeyConstraint baseColumnNames="reclamations_id" baseTableName="reclamation_nm_etat" constraintName="FKpw61crpmjumo6qfl0ymkx8xtq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="reclamation"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-7">
        <addForeignKeyConstraint baseColumnNames="nm_etats_id" baseTableName="reclamation_nm_etat" constraintName="FKtmyv36pfykdo4kemrpb3xpnit" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="nm_etat"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-8">
        <dropTable tableName="reclamation_nm_phase"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-9">
        <dropColumn columnName="phase_actuelle" tableName="action"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-10">
        <dropColumn columnName="updated_at" tableName="historique_reclamation"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-11">
        <addNotNullConstraint columnDataType="bigint" columnName="actions_id" tableName="action_nm_phase_suivant"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-12">
        <dropNotNullConstraint columnDataType="bytea" columnName="created_at" tableName="reclamation"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-13">
        <addNotNullConstraint columnDataType="bigint" columnName="nm_etats_id" tableName="reclamation_nm_etat"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-14">
        <addNotNullConstraint columnDataType="bigint" columnName="nm_phase_suivants_id" tableName="action_nm_phase_suivant"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-15">
        <dropNotNullConstraint columnDataType="bigint" columnName="reclamation_id" tableName="historique_reclamation"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-16">
        <addNotNullConstraint columnDataType="bigint" columnName="reclamations_id" tableName="reclamation_nm_etat"/>
    </changeSet>
    <changeSet author="DELL (generated)" id="1603620589919-17">
        <dropNotNullConstraint columnDataType="bytea" columnName="updated_at" tableName="reclamation"/>
    </changeSet>
</databaseChangeLog>
